SPPARKS (16 Jan 2023)
#
# T: simulation temperature
variable T equal                 0.25
#
# number of spins
variable Q equal 10000
#
# DT: number of KMC steps
variable DT equal 0.0
#
# V: scan speed
variable V equal 10.0
#
# HATCH: hatch spacing
variable HATCH equal 12.5
#
# OUT_DT: time interval controlling output frequency
variable OUT_DT equal 2.0
#
# OUT: output filename
variable OUT universe build_pattern.st
Initial ${OUT} setting: value 1 on partition 0
#
# SEED: random integer
variable SEED equal 17133
#
#
seed		 ${SEED}
seed		 17133
app_style	 am/ellipsoid		${Q} 15 35 15 4	25 45 22 6 0.1
app_style	 am/ellipsoid		10000 15 35 15 4	25 45 22 6 0.1

# |————————————————————————————————————————
# | nspins		= atoi(arg[1])
# |————————————————————————————————————————
# | nspins = atoi(arg[1]); #Number of spins
# | spot_width = atoi(arg[2]); #Width of the melt pool
# | melt_tail_length = atoi(arg[3]); #Length of tail from meltpool midpoint
# | melt_depth = atoi(arg[4]); #How many lattice sites deep the melt pool is
# | cap_height = atoi(arg[5]); #Height of the cap leading the meltpool
# |————————————————————————————————————————
# | HAZ = atoi(arg[6]); # HAZ surrounding melt pool (must be larger than spot_width and melt_depth)
# | tail_HAZ = atoi(arg[7]); #Length of HAZ trailing meltpool (must be larger than melt_tail_length)
# | depth_HAZ = atof(arg[8]); // HAZ depth below meltpool (must be larger than melt_depth)
# | cap_HAZ = atoi(arg[8]); # HAZ infront of melt pool (must be larger than cap_height)
# | exp_factor = atof(arg[9]); #Exponential parameter for mobility decay in HAZ 
# |           M(d) = exp(-exp_factor * d)
# |————————————————————————————————————————

# Define simulation domain and initialize site variables
#———————————————————————————————————————————
dimension	 3
lattice	 	 sc/26n 1.0
region		 box block 0 56 0 56 0 56

boundary 	 n n n

create_box	 box
Created box = (0 0 0) to (56 56 56)
  1 by 2 by 2 processor grid
create_sites	 box
Creating sites ...
  175616 sites
  8 sites have 7 neighbors
  0 sites have 8 neighbors
  0 sites have 9 neighbors
  0 sites have 10 neighbors
  648 sites have 11 neighbors
  0 sites have 12 neighbors
  0 sites have 13 neighbors
  0 sites have 14 neighbors
  0 sites have 15 neighbors
  0 sites have 16 neighbors
  17496 sites have 17 neighbors
  0 sites have 18 neighbors
  0 sites have 19 neighbors
  0 sites have 20 neighbors
  0 sites have 21 neighbors
  0 sites have 22 neighbors
  0 sites have 23 neighbors
  0 sites have 24 neighbors
  0 sites have 25 neighbors
  157464 sites have 26 neighbors


# Initialize sites
set i1 range 1 ${Q}
set i1 range 1 10000
  175616 settings made for i1

# Initialize model double value
set		 d1 value 0.0
  175616 settings made for d1

#———————————————————————————————————————————

# Define an additive scan pattern on rectangular domain 
# using am pass and cartesian layer commands.   
#———————————————————————————————————————————

am pass 1 dir X speed ${V} hatch ${HATCH}
am pass 1 dir X speed 10 hatch ${HATCH}
am pass 1 dir X speed 10 hatch 12.5
am pass 2 dir Y speed ${V} hatch ${HATCH}
am pass 2 dir Y speed 10 hatch ${HATCH}
am pass 2 dir Y speed 10 hatch 12.5

am cartesian_layer  1 start LL pass_id 1 thickness 14 offset -40.0 0.0
am cartesian_layer  2 start UL pass_id 2 thickness 14 offset 0.0 40.0

# Starts at top of layer 1
am build start 14 num_layers 4
#———————————————————————————————————————————

# Setup the solver type and parameters. Must use a "sweep" style solver
#——————————————————————————————————————————— 
sector		 yes
sweep		 random mask no
temperature	 ${T}
temperature	 0.25
#———————————————————————————————————————————

#Specify output commands and styles.
#——————————————————————————————————————————— 
diag_style   energy
stats            1.0

dump         dump.id.1 stitch ${OUT_DT} ${OUT} site
dump         dump.id.1 stitch 2 ${OUT} site
dump         dump.id.1 stitch 2 build_pattern.st site

# App will automatically determine duration of run.
run 1.0
Setting up run ...
Running with 32-bit site IDs
Memory usage per processor = 9.25 Mbytes
      Time    Naccept    Nreject    Nsweeps        CPU     Energy
         0          0          0          0          0 4.39823e+06
   1.03846          0    4741632         27     0.0825 4.39823e+06
         2          0    9132032         52      0.201 4.39823e+06
   3.03846          0   13873664         79       0.28 4.39823e+06
   4.03846       3218   18436462        105      0.405 4.39448e+06
   5.03846      11074   22994622        131        0.5 4.38336e+06
   6.03846      20465   27551247        157      0.664 4.36766e+06
   7.03846      32084   32105644        183      0.787 4.34632e+06
   8.03846      46170   36657574        209      0.975 4.31663e+06
   9.03846      61380   41208380        235       1.12 4.28296e+06
   10.0385      70849   45764927        261       1.32 4.25456e+06
   11.0385      77913   50323879        287       1.45 4.23268e+06
   12.0385      83063   54884745        313       1.61 4.21496e+06
   13.0385      85464   59448360        339       1.72 4.20581e+06
   14.0385      85785   64014055        365       1.91 4.20425e+06
   15.0385      85785   68580071        391       1.99 4.20425e+06
   16.0385      85785   73146087        417       2.13 4.20425e+06
   17.0385      85785   77712103        443       2.22 4.20425e+06
        18      91141   82097147        468       2.37 4.20644e+06
        19     100009   86654295        494       2.49 4.21128e+06
        20     112211   91208109        520       2.71 4.20649e+06
        21     129326   95757010        546       2.87 4.18579e+06
        22     150702  100301650        572       3.13 4.1521e+06
        23     171938  104846430        598       3.34 4.11194e+06
        24     186104  109398280        624        3.6 4.06773e+06
        25     197685  113952715        650       3.78 4.02958e+06
        26     205758  118510658        676       3.97 4.00104e+06
        27     208929  123073503        702        4.1 3.98702e+06
        28     209067  127639381        728       4.25 3.98629e+06
        29     209067  132205397        754       4.34 3.98629e+06
        30     209067  136771413        780       4.49 3.98629e+06
        31     210503  141335993        806       4.58 3.98559e+06
        32     217940  145894572        832       4.77 3.99389e+06
        33     227575  150450953        858        4.9 3.99501e+06
        34     241342  155003202        884        5.1 3.98712e+06
        35     259867  159550693        910       5.26 3.96388e+06
        36     281142  164095434        936       5.52 3.93063e+06
        37     298385  168644207        962       5.71 3.89151e+06
        38     311591  173197017        988       5.92 3.84991e+06
        39     321797  177752827       1014       6.08 3.81601e+06
        40     327634  182313006       1040       6.28 3.79409e+06
        41     328841  186877815       1066        6.4 3.78829e+06
        42     328841  191443831       1092       6.53 3.78829e+06
        43     328841  196009847       1118       6.63 3.78829e+06
        44     328841  200575863       1144        6.8 3.78829e+06
        45     332437  205138283       1170        6.9 3.78908e+06
        46     341101  209695635       1196       7.07 3.79319e+06
        47     352586  214250166       1222       7.21 3.78928e+06
        48     368491  218800277       1248        7.4 3.77244e+06
        49     389175  223345609       1274       7.56 3.74122e+06
        50     411241  227889559       1300       7.81 3.70087e+06
        51     426771  232440045       1326       7.99 3.65626e+06
        52     439546  236993286       1352       8.21 3.61489e+06
        53     448905  241549943       1378       8.36 3.58325e+06
        54     453191  246111673       1404       8.55 3.56591e+06
        55     453610  250677270       1430       8.66 3.56395e+06
        56     453610  255243286       1456       8.82 3.56395e+06
        57     453610  259809302       1482       8.92 3.56395e+06
        58     453734  264375194       1508       9.06 3.56371e+06
        59     456382  268938562       1534       9.16 3.57601e+06
        60     460139  273500821       1560       9.34 3.59238e+06
        61     466356  278060620       1586       9.46 3.6024e+06
        62     476632  282616360       1612       9.65 3.60172e+06
        63     490525  287168483       1638        9.8 3.58884e+06
        64     503543  291721481       1664         10 3.56935e+06
        65     514675  296276365       1690       10.1 3.53573e+06
        66     524417  300832639       1716       10.3 3.50579e+06
        67     530977  305392095       1742       10.5 3.48312e+06
        68     532902  309956186       1768       10.6 3.47441e+06
        69     532925  314522179       1794       10.7 3.4743e+06
        70     532925  319088195       1820       10.9 3.4743e+06
        71     532925  323654211       1846         11 3.4743e+06
        72     534670  328218482       1872       11.1 3.47176e+06
        73     542013  332777155       1898       11.2 3.46098e+06
        74     551124  337334060       1924       11.4 3.44355e+06
        75     562101  341889099       1950       11.5 3.4207e+06
        76     575780  346441436       1976       11.7 3.39021e+06
        77     591235  350991997       2002       11.9 3.35473e+06
        78     602488  355546760       2028       12.1  3.322e+06
   79.0385     610590  360280290       2055       12.3 3.2962e+06
   80.0385     616352  364840544       2081       12.5 3.27582e+06
   81.0385     619280  369403632       2107       12.6 3.26398e+06
   82.0385     619714  373969214       2133       12.7 3.26153e+06
   83.0385     619714  378535230       2159       12.8 3.26153e+06
   84.0385     619714  383101246       2185         13 3.26153e+06
   85.0385     619714  387667262       2211       13.1 3.26153e+06
   86.0385     624975  392228017       2237       13.2 3.26718e+06
   87.0385     633761  396785247       2263       13.4 3.27151e+06
   88.0385     645970  401339054       2289       13.6 3.2661e+06
   89.0385     663081  405887959       2315       13.8 3.24709e+06
   90.0385     683971  410433085       2341       14.1 3.21383e+06
   91.0385     705122  414977950       2367       14.3 3.17186e+06
   92.0385     719942  419529146       2393       14.5 3.12305e+06
   93.0385     732012  424083092       2419       14.7 3.08417e+06
   94.0385     739988  428641132       2445       14.9 3.05459e+06
   95.0385     742961  433204175       2471       15.1 3.04116e+06
   96.0385     743124  437770028       2497       15.2 3.04036e+06
   97.0385     743124  442336044       2523       15.3 3.04036e+06
   98.0385     743124  446902060       2549       15.5 3.04036e+06
   99.0385     743789  451467411       2575       15.6 3.03919e+06
   100.038     750705  456026511       2601       15.8 3.04466e+06
   101.038     759997  460583235       2627       15.9 3.04711e+06
   102.038     773102  465136146       2653       16.2 3.04135e+06
   103.038     791622  469683642       2679       16.3 3.01868e+06
   104.038     814004  474227276       2705       16.6 2.97895e+06
   105.038     833479  478773817       2731       16.8 2.93901e+06
   106.038     848024  483325288       2757       17.1 2.89524e+06
   107.038     859498  487879830       2783       17.3 2.85774e+06
   108.038     866580  492438764       2809       17.5 2.8311e+06
   109.038     868255  497003105       2835       17.6 2.82321e+06
   110.038     868255  501569121       2861       17.8 2.82321e+06
   111.038     868255  506135137       2887       17.9 2.82321e+06
   112.038     868255  510701153       2913         18 2.82321e+06
   113.038     871859  515263565       2939       18.2 2.82583e+06
   114.038     880375  519821065       2965       18.3 2.82995e+06
   115.038     891811  524375645       2991       18.5 2.82589e+06
   116.038     907648  528925824       3017       18.8 2.80885e+06
   117.038     929148  533470340       3043         19 2.7745e+06
   118.038     951859  538013645       3069       19.2 2.73246e+06
   119.038     967963  542563557       3095       19.4 2.68588e+06
   120.038     981036  547116500       3121       19.7 2.64371e+06
   121.038     990062  551673490       3147       19.9 2.61029e+06
   122.038     994282  556235286       3173       20.1 2.59285e+06
   123.038     994655  560800929       3199       20.3 2.5915e+06
   124.038     994655  565366945       3225       20.4 2.5915e+06
   125.038     994655  569932961       3251       20.5 2.5915e+06
   126.038     994655  574498977       3277       20.7 2.5915e+06
   127.038     997192  579062456       3303       20.8 2.60141e+06
   128.038    1000373  583625291       3329         21 2.61956e+06
   129.038    1006287  588185393       3355       21.2 2.63242e+06
   130.038    1016191  592741505       3381       21.4 2.63429e+06
   131.038    1030059  597293653       3407       21.5 2.62066e+06
   132.038    1043653  601846075       3433       21.8 2.60012e+06
   133.038    1054979  606400765       3459       21.9 2.56328e+06
   134.038    1064770  610956990       3485       22.2 2.52976e+06
   135.038    1071861  615515915       3511       22.3 2.50429e+06
   136.038    1074358  620079434       3537       22.5 2.49331e+06
   137.038    1074406  624645402       3563       22.6 2.49303e+06
   138.038    1074406  629211418       3589       22.8 2.49303e+06
   139.038    1074406  633777434       3615       22.9 2.49303e+06
   140.038    1076518  638341338       3641       23.1 2.49008e+06
   141.038    1083505  642900367       3667       23.2 2.47995e+06
   142.038    1092589  647457299       3693       23.4 2.46352e+06
   143.038    1104001  652011903       3719       23.5 2.44039e+06
   144.038    1118255  656563665       3745       23.8 2.40541e+06
   145.038    1133387  661114549       3771       23.9 2.36734e+06
   146.038    1143870  665670082       3797       24.2 2.33585e+06
   147.038    1151358  670228610       3823       24.3 2.31265e+06
   148.038    1156867  674789117       3849       24.5 2.29429e+06
   149.038    1159949  679352051       3875       24.7 2.28191e+06
   150.038    1160506  683917510       3901       24.8 2.2788e+06
   151.038    1160506  688483526       3927       24.9 2.2788e+06
   152.038    1160506  693049542       3953       25.1 2.2788e+06
   153.038    1160506  697615558       3979       25.2 2.2788e+06
   154.038    1164931  702177149       4005       25.4 2.27945e+06
   155.038    1173738  706734358       4031       25.5 2.28449e+06
   156.038    1185868  711288244       4057       25.7 2.27954e+06
   157.038    1202350  715837778       4083       25.9 2.25964e+06
   158.038    1223484  720382660       4109       26.2 2.22228e+06
   159.038    1244740  724927420       4135       26.5 2.18244e+06
       160    1259242  729303318       4160       26.8 2.14021e+06
       161    1272261  733856315       4186         27 2.09942e+06
       162    1281201  738413391       4212       27.2 2.06767e+06
       163    1285220  742975388       4238       27.4 2.0502e+06
       164    1285566  747541058       4264       27.5 2.04839e+06
       165    1285566  752107074       4290       27.7 2.04839e+06
       166    1285566  756673090       4316       27.8 2.04839e+06
       167    1286135  761238537       4342         28 2.04737e+06
       168    1292714  765797974       4368       28.1 2.05499e+06
       169    1302219  770354485       4394       28.3 2.05637e+06
       170    1315289  774907431       4420       28.5 2.04969e+06
       171    1333268  779455468       4446       28.7 2.02473e+06
       172    1354608  784000144       4472         29 1.99029e+06
       173    1373587  788547181       4498       29.2 1.94954e+06
       174    1388019  793098765       4524       29.4 1.90524e+06
       175    1399440  797653360       4550       29.6 1.86681e+06
       176    1406547  802212269       4576       29.8 1.84012e+06
       177    1408359  806776473       4602         30 1.8312e+06
       178    1408359  811342489       4628       30.1 1.8312e+06
       179    1408359  815908505       4654       30.2 1.8312e+06
       180    1408359  820474521       4680       30.4 1.8312e+06
       181    1410620  825038276       4706       30.5 1.83141e+06
       182    1419076  829595836       4732       30.7 1.83428e+06
       183    1429999  834150929       4758       30.8 1.82916e+06
       184    1445252  838701692       4784         31 1.81502e+06
       185    1465794  843247166       4810       31.2 1.78361e+06
       186    1488787  847790189       4836       31.5 1.74191e+06
       187    1506470  852338522       4862       31.7 1.69622e+06
       188    1520179  856890829       4888       31.9 1.65443e+06
       189    1530548  861446476       4914       32.1 1.62011e+06
       190    1535918  866007122       4940       32.3 1.59976e+06
       191    1536751  870572305       4966       32.4 1.59582e+06
       192    1536751  875138321       4992       32.6 1.59582e+06
       193    1536751  879704337       5018       32.7 1.59582e+06
       194    1536751  884270353       5044       32.9 1.59582e+06
       195    1539100  888834020       5070         33 1.60559e+06
       196    1542598  893396538       5096       33.2 1.62253e+06
       197    1548507  897956645       5122       33.3 1.63501e+06
       198    1558220  902512948       5148       33.5 1.63485e+06
       199    1572706  907064478       5174       33.7 1.62121e+06
       200    1586915  911616285       5200         34 1.60172e+06
       201    1598980  916170236       5226       34.1 1.56517e+06
       202    1609431  920725801       5252       34.3 1.53045e+06
       203    1616704  925284544       5278       34.5 1.50236e+06
       204    1619323  929847941       5304       34.7 1.49048e+06
       205    1619430  934413850       5330       34.8 1.49001e+06
       206    1619430  938979866       5356       34.9 1.49001e+06
       207    1619430  943545882       5382         35 1.49001e+06
       208    1620305  948111023       5408       35.2 1.48859e+06
       209    1626532  952670812       5434       35.3 1.47796e+06
       210    1634346  957229014       5460       35.5 1.46329e+06
       211    1644406  961784970       5486       35.6 1.44394e+06
       212    1657059  966338333       5512       35.8 1.41718e+06
       213    1671066  970890342       5538         36 1.38167e+06
       214    1682062  975445362       5564       36.2 1.34943e+06
       215    1689069  980004371       5590       36.3 1.32605e+06
       216    1694297  984565159       5616       36.5 1.30539e+06
       217    1697160  989128312       5642       36.7 1.29174e+06
       218    1697774  993693714       5668       36.8 1.28847e+06
       219    1697774  998259730       5694       36.9 1.28847e+06
       220    1697774 1002825746       5720       37.3 1.28847e+06
       221    1697774 1007391762       5746       37.4 1.28847e+06
       222    1701306 1011954246       5772       37.5 1.29107e+06
       223    1709017 1016512551       5798       37.7 1.29428e+06
       224    1719425 1021068159       5824         38 1.29106e+06
       225    1734006 1025619594       5850       38.2 1.27269e+06
       226    1753333 1030166283       5876       38.4 1.23822e+06
       227    1773363 1034712269       5902       38.6 1.19909e+06
       228    1787654 1039263994       5928       38.9 1.15452e+06
       229    1799421 1043818243       5954       39.1 1.11475e+06
       230    1807572 1048376108       5980       39.3 1.08486e+06
       231    1811050 1052938646       6006       39.5 1.06986e+06
       232    1811256 1057504456       6032       39.6 1.06849e+06
       233    1811256 1062070472       6058       39.7 1.06849e+06
       234    1811256 1066636488       6084       39.9 1.06849e+06
       235    1811358 1071202402       6110         40 1.06828e+06
       236    1816666 1075763110       6136       40.2 1.07399e+06
       237    1825057 1080320735       6162       40.4 1.0758e+06
       238    1836793 1084875015       6188       40.6 1.07153e+06
       239    1852741 1089425083       6214       40.8 1.05245e+06
       240    1872589 1093971251       6240         41 1.01873e+06
       241    1891665 1098518191       6266       41.2     983714
       242    1905515 1103070357       6292       41.5     938780
       243    1916407 1107625481       6318       41.6     900858
       244    1923265 1112184639       6344       41.9     874218
       245    1925343 1116748577       6370         42     864270
       246    1925368 1121314568       6396       42.2     864216
       247    1925368 1125880584       6422       42.3     864216
       248    1925368 1130446600       6448       42.5     864216
       249    1927527 1135010457       6474       42.6     863852
       250    1934552 1139569448       6500       42.8     870732
       251    1944583 1144125433       6526         43     865582
       252    1958911 1148677121       6552       43.2     849636
       253    1977360 1153224688       6578       43.4     817782
       254    1997597 1157770467       6604       43.6     777680
       255    2012452 1162321628       6630       43.8     734122
       256    2024500 1166875596       6656       44.1     694234
       257    2033593 1171432519       6682       44.3     660114
       258    2038173 1175993955       6708       44.5     640186
       259    2038881 1180559263       6734       44.6     636100
       260    2038881 1185125279       6760       44.8     636100
       261    2038881 1189691295       6786       44.9     636100
       262    2038881 1194257311       6812         45     636100
       263    2040831 1198821377       6838       45.2     641270
       264    2044211 1203384013       6864       45.4     656530
       265    2049756 1207944484       6890       45.5     665882
       266    2058347 1212501909       6916       45.7     666312
       267    2070658 1217055614       6942       45.8     656040
       268    2083240 1221609048       6968         46     639528
       269    2094343 1226163961       6994       46.2     605304
       270    2103614 1230720706       7020       46.4     570512
       271    2110354 1235279982       7046       46.6     539320
       272    2113026 1239843326       7072       46.7     523232
   272.154    2113095 1240545721       7076       46.8     522394
Loop time of 46.761 on 4 procs

Solve time (%) = 22.0365 (47.1258)
Update time (%) = 0 (0)
Comm  time (%) = 11.7499 (25.1276)
Outpt time (%) = 12.9696 (27.7359)
App   time (%) = 0 (0)
Other time (%) = 0.00499174 (0.010675)
