SPPARKS (19 Sept 2022)
# SPPARKS Potts tests on generic lattice

shell mkdir DumpFiles 

seed		 56789

# additive/thermal args
# nspins = atoi(arg[1]);
# vel = atof(arg[2]); //Velocity of travel (in meters/second)
# time_step = atof(arg[3]); //In seconds
# path_file_name = arg[4]; //Name of the input file with the proposed scan path  
# x_dev = atof(arg[5]); //Set the x-direction standard deviation for the gaussian source (in meters)
# y_dev = atof(arg[6]); //Set y deviation (in meters)
# z_dev = atof(arg[7]); //For a volumetric Gaussian source, set z-deviation (in meters)
# short_wait_time = atof(arg[8]); //How long to pause during a layer, estimated by laser "jump" speed * distance (in seconds)
# flux_prefactor = atof(arg[9]); //In Watts, typically less than incident laser power
# substrate_height = atoi(arg[10]); //In voxels, typically should be 25+
# nrefine = atoi(arg[11]); //How many smoothing steps to perform
# dx = atof(arg[12]); //Thermal and microstructure lattice spacing (in meters)

app_style additive/thermal 1000000 1.4 7e-7 "Thin_Wall.txt" 6e-5 6e-5 6e-5 1e-6 115 18 1 5e-6

dimension	 3
lattice	 	 sc/26n 1.0
region		 box block 0 180 0 75 0 50

boundary 	 n n n

create_box	 box
Created box = (0 0 0) to (180 75 50)
  4 by 2 by 1 processor grid
create_sites     box 
Creating sites ...
  675000 sites
  8 sites have 7 neighbors
  0 sites have 8 neighbors
  0 sites have 9 neighbors
  0 sites have 10 neighbors
  1196 sites have 11 neighbors
  0 sites have 12 neighbors
  0 sites have 13 neighbors
  0 sites have 14 neighbors
  0 sites have 15 neighbors
  0 sites have 16 neighbors
  50084 sites have 17 neighbors
  0 sites have 18 neighbors
  0 sites have 19 neighbors
  0 sites have 20 neighbors
  0 sites have 21 neighbors
  0 sites have 22 neighbors
  0 sites have 23 neighbors
  0 sites have 24 neighbors
  0 sites have 25 neighbors
  623712 sites have 26 neighbors
set              site range 1 1000000
  675000 settings made for site
set              d2 value 300
  675000 settings made for d2

sector		 yes
sweep		 random mask no
# outputs total temperature sum as a stat
# If this goes crazy, try reducing timestep

diag_style       array d2 sum

# Potts Monte Carlo temperature. Only affects grain boundary shape during grain coarsening.
# Use 0 for "austenitic" microstructures and "0.66" for ferritic

temperature	 0.0

# AM specific parameters, optional inputs, default are for 304L SS

k_solid                 30   # Solid conductivity (in W/m^2K?)
k_powder                0.3  # Powder conductivity (in W/m^2K?)
boundary_temperature    300  # In Kelvin

# Number of pairs, temperature (K) and specific heat at each

specific_heat           6 300 480 600 550 1400 675 1550 693 1650 714 1750 736 
latent_heat             285000   # Factored into specific heat in solidus-liquidus temperature region
density                 5706     # In kg/m^3? Use a value between full-solid density and powder density
t_room                  300      # T_room and T_inf for convection/radiation BCs, typically 300 K
emissivity              1        # Combined emissivity and stefan boltzmann constant
convection_coefficient  25       # Convection coefficient
Ko                      0.0000204133  # Grain coarsening pre-factor (fit from isothermal GG experiments)
Q                       128312   # Grain coarsening exponent (fit from isothermal GG experiments)
liquidus                1723     # Liquidus temperature in Kelvin
solidus                 1673     # Solidus temperature in Kelvin
solid_front_vel         4 1.091e-5 -2.034e-4 2.74e-3 1.151e-4   # Polynomial degree, coefficient value (from high power to low)
nucleation_density      1e14     # In number/m^3
critical_undercooling   5        # Undercooling where nucleation starts (in Kelvin)
undercooling_deviation  3        # Critical undercooling is sampled from normal distribution, this defines std dev.
mean_nuclei_volume      8.4375e-16   # In m^3, center of normal distribution
nuclei_volume_deviation 1.5625e-17   # In m^3, std dev of nuclei size distribution

shell cd DumpFiles/

stats            1e-4

# text dump

#dump              1 text 1e-2  dump.additive.* id i1 d2 x y z
#dump_modify		1 thresh i2 > 1

# grain image dump

#dump			2 image 0.001 dumpgrain.*.jpg i1 i1 shape cube size 2000 2000 sdiam 1.05 crange 1 1000000 box no 1 
#dump_modify		2 thresh i2 >= 1

# temp image dump

#dump			3 image 1 dumpheat.*.jpg d1 i1 shape cube size 2000 2000 view 0 0 sdiam 1.05 box no 1
#dump_modify		3 thresh i2 >= 1 smap min max cf 0.05 5 min blue 0.25 lightblue 0.5 green 0.75 orange max red

# diag_style       cluster delt 8.5e-3 stats no dump standard cluster.AM

run              0.0036
Setting up run ...
Running with 32-bit site IDs
Memory usage per processor = 15.75 Mbytes
      Time    Naccept    Nreject    Nsweeps        CPU    sum(d2)
         0          0          0          0          0 2.03681e+08
 0.0001001          0          0          0      0.558 2.31725e+08
 0.0002002          0          0          0       1.12 2.40041e+08
 0.0003003          5         -5          0       1.68 2.45901e+08
 0.0004004         12        -12          0       2.25 2.49975e+08
 0.0005005         18        -18          0       2.81 2.52736e+08
 0.0006006         29        -29          0       3.53 2.54604e+08
 0.0007007         38        -38          0       5.02 2.5589e+08
 0.0008001         61        -61          0       5.89 2.56792e+08
 0.0009002         74        -74          0       6.76 2.57433e+08
 0.0010003         92        -92          0       7.61 2.57912e+08
 0.0011004        109       -109          0       8.47 2.58264e+08
 0.0012005        119       -119          0       9.32 2.58525e+08
 0.0013006        130       -130          0       10.2 2.58729e+08
 0.0014007        142       -142          0       11.1 2.58887e+08
 0.0015001        148       -148          0       11.9 2.59015e+08
 0.0016002        152       -152          0       12.8 2.59123e+08
 0.0017003        161       -161          0       13.7 2.59215e+08
 0.0018004        172       -172          0       14.5 2.59292e+08
 0.0019005        183       -183          0       15.4 2.59357e+08
 0.0020006        189       -189          0       16.2 2.59414e+08
 0.0021007        198       -198          0       17.1 2.59471e+08
 0.0022001        205       -205          0         18 2.59515e+08
 0.0023002        215       -215          0       18.8 2.59549e+08
 0.0024003        222       -222          0       19.7 2.59576e+08
 0.0025004        229       -229          0       20.6 2.59598e+08
 0.0026005        234       -234          0       21.5 2.59618e+08
 0.0027006       1850     673150          1       22.4 2.59634e+08
    0.0028       1854     673146          1       23.2 2.59648e+08
 0.0029001       1858     673142          1       24.1 2.5966e+08
 0.0030002       1865     673135          1         25 2.5967e+08
 0.0031003       1866     673134          1       25.9 2.59679e+08
 0.0032004       1867     673133          1       26.8 2.59687e+08
 0.0033005       1868     673132          1       27.7 2.59695e+08
 0.0034006       1868     673132          1       28.5 2.59702e+08
    0.0035       1869     673131          1       29.4 2.59708e+08
 0.0036001       1869     673131          1       30.3 2.59713e+08
 0.0036001       3716    1346284          2       30.3 2.59713e+08
Loop time of 30.3075 on 8 procs

Solve time (%) = 3.2961 (10.8755)
Update time (%) = 0 (0)
Comm  time (%) = 12.0966 (39.9129)
Outpt time (%) = 0.0447786 (0.147747)
App   time (%) = 14.8687 (49.0594)
Other time (%) = 0.00133514 (0.00440531)

shell cd ../
